<script type="text/javascript">
var active_dates_js = gon.active_dates;
var inactive_dates_js = gon.inactive_dates;
$(".appointment-time input").datepicker({
    weekStart: 1,
    language: "zh-CN",
    todayHighlight: true,
    format: "yyyy-mm-dd",
    daysOfWeekDisabled: inactive_dates_js,
    beforeShowDay: function(date){
        var d = date;
        var curr_date = d.getDate();
        var curr_month = d.getMonth() + 1; //Months are zero based
        var curr_year = d.getFullYear();
        var formattedDate = curr_date + "/" + curr_month + "/" + curr_year

        if ($.inArray(formattedDate, active_dates_js) != -1) {
            return {
                classes: 'appointment-active'
            };
        }
        return;
    }
}).on('changeDate',function(e){
    var date=e.format("yyyy-mm-dd");
    $("#order_appointments_time").val(date);
});
</script>
